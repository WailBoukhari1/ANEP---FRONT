import{r as g,j as e}from"./index-BTXBHzIc.js";import{A as R,P as f,a,T as D,b as j,I as b}from"./AdminLayout-CAfH-yhE.js";import{u as L}from"./index-N7wE-vYa.js";import{R as P,d as q,a as N,b as U}from"./quill.snow-ChtjAMyt.js";import{T as o,F as u,I as m,S as h,B as v}from"./TextField-BPD9SszU.js";import{F as w,C as F,A as y}from"./FormControlLabel-DTGmWSPN.js";import{G as d}from"./Grid-BEjnIwqi.js";import"./index-iVo4PhEO.js";const p=[{label:"John Doe",id:1},{label:"Jane Smith",id:2},{label:"Alice Johnson",id:3},{label:"Bob Brown",id:4}];function E(){const[n,r]=g.useState({title:"",offline:"",description:"",notifyUsers:!1,hidden:"",budget:"",notification:[],sessions:[{startTime:"",endTime:"",instructorType:"",instructorName:""}],image:null}),C=g.useCallback(t=>{const s=t[0];s&&r(i=>({...i,image:Object.assign(s,{preview:URL.createObjectURL(s)})}))},[]),{getRootProps:T,getInputProps:S,isDragActive:B}=L({onDrop:C}),c=(t,s)=>{const{name:i,value:l}=t.target,x=[...n.sessions];x[s][i]=l,r(O=>({...O,sessions:x}))},I=()=>{r(t=>({...t,sessions:[...t.sessions,{startTime:"",endTime:"",instructorType:"",instructorName:""}]}))},W=()=>{const t=n.sessions[n.sessions.length-1];r(s=>({...s,sessions:[...s.sessions,{...t}]}))},k=t=>{r(s=>({...s,sessions:s.sessions.filter((i,l)=>l!==t)}))},A=t=>{t.preventDefault(),console.log("Updated course data:",n)};return e.jsx(R,{children:e.jsxs("form",{onSubmit:A,style:{padding:"24px",backgroundColor:"#fff",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",borderRadius:"8px"},children:[e.jsx(o,{label:"Title",name:"title",value:n.title,onChange:t=>r(s=>({...s,title:t.target.value})),required:!0,fullWidth:!0,style:{marginBottom:"16px"}}),e.jsxs("div",{...T(),style:{border:"2px dashed #ccc",padding:"16px",marginBottom:"16px",textAlign:"center"},children:[e.jsx("input",{...S()}),e.jsx(f,{elevation:0,style:{padding:"16px"},children:B?e.jsx("p",{children:"Drop the image here..."}):e.jsx("p",{children:"Drag 'n' drop an image here, or click to select an image"})}),n.image&&e.jsx("img",{src:n.image.preview,alt:"Preview",style:{marginTop:"16px",maxWidth:"100%",height:"auto"}})]}),e.jsxs(u,{fullWidth:!0,style:{marginBottom:"16px"},children:[e.jsx(m,{children:"Offline/Online"}),e.jsxs(h,{name:"offline",value:n.offline,label:"Offline/Online",onChange:t=>r(s=>({...s,offline:t.target.value})),required:!0,children:[e.jsx(a,{value:"online",children:"Online"}),e.jsx(a,{value:"offline",children:"Offline"})]})]}),e.jsx(u,{fullWidth:!0,style:{marginBottom:"16px"},children:e.jsx(P,{theme:"snow",value:n.description,onChange:t=>r(s=>({...s,description:t}))})}),e.jsx(w,{control:e.jsx(F,{checked:n.notifyUsers,onChange:t=>r(s=>({...s,notifyUsers:t.target.checked}))}),label:"Notify Users",style:{marginBottom:"16px"}}),e.jsxs(u,{fullWidth:!0,style:{marginBottom:"16px"},children:[e.jsx(m,{children:"Visibility"}),e.jsxs(h,{name:"hidden",value:n.hidden,label:"Visibility",onChange:t=>r(s=>({...s,hidden:t.target.value})),required:!0,children:[e.jsx(a,{value:"hidden",children:"Hidden"}),e.jsx(a,{value:"visible",children:"Visible"})]})]}),e.jsx(o,{label:"Budget",name:"budget",value:n.budget,onChange:t=>r(s=>({...s,budget:t.target.value})),fullWidth:!0,style:{marginBottom:"16px"}}),e.jsx(u,{fullWidth:!0,style:{marginBottom:"16px"},children:e.jsx(y,{multiple:!0,options:p,getOptionLabel:t=>t.label,value:n.notification,onChange:(t,s)=>r(i=>({...i,notification:s})),renderInput:t=>e.jsx(o,{...t,label:"Notify Specific Instructors"})})}),e.jsx(D,{variant:"h6",gutterBottom:!0,children:"Sessions"}),n.sessions.map((t,s)=>e.jsx(f,{elevation:1,style:{padding:"16px",marginBottom:"16px",borderRadius:"8px"},children:e.jsxs(d,{container:!0,spacing:2,children:[e.jsx(d,{item:!0,xs:6,children:e.jsx(o,{label:"Start Time",name:"startTime",type:"datetime-local",value:t.startTime,onChange:i=>c(i,s),fullWidth:!0,required:!0,InputLabelProps:{shrink:!0}})}),e.jsx(d,{item:!0,xs:6,children:e.jsx(o,{label:"End Time",name:"endTime",type:"datetime-local",value:t.endTime,onChange:i=>c(i,s),fullWidth:!0,required:!0,InputLabelProps:{shrink:!0}})}),e.jsx(d,{item:!0,xs:6,children:e.jsxs(u,{fullWidth:!0,required:!0,children:[e.jsx(m,{children:"Instructor Type"}),e.jsxs(h,{name:"instructorType",value:t.instructorType,onChange:i=>c(i,s),children:[e.jsx(a,{value:"internal",children:"Internal"}),e.jsx(a,{value:"external",children:"External"})]})]})}),e.jsx(d,{item:!0,xs:6,children:e.jsx(y,{options:p,getOptionLabel:i=>i.label,value:p.find(i=>i.label===t.instructorName)||null,onChange:(i,l)=>c({target:{name:"instructorName",value:l?l.label:""}},s),renderInput:i=>e.jsx(o,{...i,label:"Instructor Name"}),fullWidth:!0,required:!0})}),e.jsxs(d,{item:!0,xs:12,style:{textAlign:"right"},children:[e.jsx(j,{title:"Duplicate Session",children:e.jsx(b,{onClick:()=>W(),size:"large",children:e.jsx(q,{})})}),e.jsx(j,{title:"Remove Session",children:e.jsx(b,{onClick:()=>k(s),size:"large",children:e.jsx(N,{})})})]})]})},s)),e.jsx(v,{variant:"outlined",color:"primary",onClick:I,startIcon:e.jsx(U,{}),fullWidth:!0,style:{marginBottom:"16px"},children:"Add Session"}),e.jsx(v,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Create Course"})]})})}E.propTypes={};export{E as default};
